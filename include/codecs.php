<?php
declare(strict_types=1);

if (!defined('IN_TRACKER')) {
    die('Hacking attempt!');
}

/** @var array<int,string> */
$video_codec = [
    // --- существовавшие у тебя ---
    1  => 'H.263',
    2  => 'H.264 / AVC',
    3  => 'VPx (общее)',
    4  => 'DivX 3.x',
    5  => 'DivX 4.x',
    6  => 'DivX 5.x',
    7  => 'DivX 6.x',
    8  => 'XviD',
    9  => 'MPEG-1',
    10 => 'MPEG-2 (SVCD)',
    11 => 'MPEG-2 (DVD)',
    12 => 'ASF',
    13 => 'WMV',

    // --- новые / актуальные ---
    14 => 'H.265 / HEVC',
    15 => 'AV1',
    16 => 'VP9',
    17 => 'VP8',
    18 => 'MPEG-4 Part 2',
    19 => 'MPEG-4 Visual (ASP)',
    20 => 'Apple ProRes',
    21 => 'VC-1',
    22 => 'Theora',
    23 => 'Dirac',
    24 => 'DNxHD / DNxHR',
    25 => 'H.266 / VVC',   // на будущее
];

/** @var array<int,string> */
$audio_codec = [
    // --- существовавшие ---
    1  => 'MP3',
    2  => 'MP3 Pro',
    3  => 'AC-3 (Dolby Digital)',
    4  => 'AC-3 2.0',
    5  => 'AC-3 5.1',
    6  => 'WMA',
    7  => 'AAC',
    8  => 'Ogg Vorbis',
    9  => 'MP2',

    // --- новые / lossless / HD-аудио ---
    10 => 'DTS',
    11 => 'DTS-HD MA',
    12 => 'Dolby TrueHD',
    13 => 'E-AC-3 (DD+)',
    14 => 'Opus',
    15 => 'FLAC',
    16 => 'ALAC',
    17 => 'PCM (LPCM)',
    18 => 'HE-AAC v1',
    19 => 'HE-AAC v2',
    20 => 'WMA Pro',
    21 => 'WMA Lossless',
    22 => 'APE (Monkey’s Audio)',
];

/** @var array<int,string> */
$audio_lang = [
    // --- существовавшие ---
    1  => 'Оригинал',
    2  => 'Английский',
    3  => 'Французский',  // исправил опечатку
    4  => 'Немецкий',
    5  => 'Русский',
    6  => 'Украинский',
    7  => 'Польский',
    8  => 'Китайский',
    9  => 'Японский',
    10 => 'Нет данных',

    // --- новые ---
    11 => 'Испанский',
    12 => 'Итальянский',
    13 => 'Португальский',
    14 => 'Турецкий',
    15 => 'Корейский',
    16 => 'Хинди',
    17 => 'Чешский',
    18 => 'Шведский',
    19 => 'Норвежский',
    20 => 'Датский',
    21 => 'Финский',
    22 => 'Иврит',
    23 => 'Арабский',
    24 => 'Многоязычная дорожка',
];

/** @var array<int,string> */
$audio_trans = [
    // --- существовавшие ---
    1  => 'Русский одноголосый',
    2  => 'Русский многоголосый',
    3  => 'Без перевода (оригинал)',
    4  => 'Дубляж',
    5  => 'Профессиональный',
    6  => 'Многоголосый закадровый',
    7  => 'Двухголосый закадровый',
    8  => 'Одноголосый закадровый',
    9  => 'Русские внешние субтитры',
    10 => 'Русские встроенные субтитры',
    11 => 'Перевод не требуется',
    12 => 'Нет данных',

    // --- новые / уточнения ---
    13 => 'Авторский одноголосый',
    14 => 'Любительский (fan-dub)',
    15 => 'Профессиональный многоголосый',
    16 => 'Форсированные субтитры',
    17 => 'SDH / CC (субтитры для слабослышащих)',
    18 => 'Двухъязычная дорожка (рус/оригинал)',
    19 => 'Озвучено частично',
    20 => 'Мультиязычные субтитры',
];

/** @var array<int,string> */
$release_quality = [
    // --- существовавшие ---
    1  => 'HD DVD',
    2  => 'HDTV',
    3  => 'HDTVRip',
    4  => 'DVD-9',
    5  => 'DVD-5',
    6  => 'DVDRip',
    7  => 'DVDScr',
    8  => 'Scr',
    9  => 'SatRip',
    10 => 'TVRip',
    11 => 'TC',
    12 => 'Super-TS',
    13 => 'TS',
    14 => 'CAM',

    // --- новые / актуальные ---
    15 => 'Blu-ray',
    16 => 'Blu-ray Remux',
    17 => 'BDRip',
    18 => 'WEB-DL',
    19 => 'WEBRip',
    20 => 'HDRip',
    21 => 'UHD Blu-ray (4K)',
    22 => 'UHD Remux (4K)',
    23 => 'HDCAM',
    24 => 'HDTS',
    25 => 'R5',
    26 => 'VHSRip',
    27 => 'LaserDiscRip',
    28 => 'WEBrip HDR (HDR10/HDR10+)',
    29 => 'Dolby Vision (DV)',
];

/**
 * Универсальный хелпер: безопасно получить метку по ID.
 */
function dict_label(array $dict, int $id, string $fallback = 'Нет данных'): string
{
    return $dict[$id] ?? $fallback;
}

/**
 * Универсальный хелпер: найти ID по названию (без учёта регистра/пробелов).
 * Возвращает null, если не найдено.
 */
function dict_id(array $dict, string $label): ?int
{
    $needle = mb_strtolower(trim($label), 'UTF-8');
    foreach ($dict as $id => $text) {
        if (mb_strtolower($text, 'UTF-8') === $needle) {
            return (int)$id;
        }
    }
    return null;
}
